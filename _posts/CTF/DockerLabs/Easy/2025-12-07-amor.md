---
title: "DockerLabs: Amor"
date: 2025-12-07
categories: [CTFs, Dockerlabs]
tags: [DockerLabs, Dockerlabs Easy]
---

Machine by [Romabri](https://www.youtube.com/@romabripwn)

---

### 1. nmap scan

Enumerate the machine and get all the important information.

By using the next command

`nmap -p- -sV VICTIM_IP`

The results reveal services for SSH and a web server. None of these services appear vulnerable based on their versions:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_01.png)

<br>

### 2. Web reconeisance

We can see a couple of alerts for a weak password and a couple of names, other than that not much of interest.

![](/assets/img/ctf/dockerlabs/easy/amor/amor_02.png)

Using gobuster we can enumerate web directories or pages, but there isn't anything to relevant.

![](/assets/img/ctf/dockerlabs/easy/amor/amor_03.png)

<br>

### 3. SSH Bruteforce

Using the name `juan` as the target of a hydra attack to the ssh service proved to be inefective, but `carlota` is a valid user, and we've found the user's password to be `babygirl`:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_04.png)

As we can see the username and password where correct and we've found our way into the machine:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_05.png)

### 4. Steganography

In the user's home there's a Desktop with a photo:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_06.png)

Let's transfer that to our machine with a python server `python3 -m http.server`

![](/assets/img/ctf/dockerlabs/easy/amor/amor_07.png)

And download it:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_08.png)

Using `steghide info image.jpg` we can see there's a hidden text file:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_09.png)

Let's extract it with `steghide extract -sf imagen.jpg -xf amorCTF` and the contents is a base64 string: 

![](/assets/img/ctf/dockerlabs/easy/amor/amor_10.png)

Decoding it with [Dencode](https://dencode.com) reveals that the hidden text is `eslacasadepinypon`

![](/assets/img/ctf/dockerlabs/easy/amor/amor_11.png)

### 5. Privilege Escalation

In the home directory there are two more users, using `su oscar` to log in with the previous password proves successful:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_12.png)

There is a text file in it's home, but nothing relevant:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_13.png)

Using `sudo su` proves unnefective as it's not allowed to use sudo, but `sudo -l` reveals that the user can use ruby with no password:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_14.png)

With a [GTFOBins](https://gtfobins.github.io/gtfobins/ruby/#shell) ruby shell script we can execute with sudo and gain root access:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_15.png)

And then find the user's root home directory text file and thus finishing this CTF:

![](/assets/img/ctf/dockerlabs/easy/amor/amor_16.png)